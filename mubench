#!/bin/bash

SCRIPT_DIR=$(dirname "$([[ "$0" = /* ]] && echo "$0" || echo "$PWD/${0#./}")")
MUBENCH_ROOT=$SCRIPT_DIR
META_TASKS=${MUBENCH_ROOT}/mubench.meta_tasks

source ${META_TASKS}/setup-env

REQUESTED_TASK=${META_TASKS}/$1
if [ -f "${REQUESTED_TASK}" ]; then
  shift  # remove requested task argument
  source "${REQUESTED_TASK}" "$@"
else
  source "${META_TASKS}/pipeline" "$@"
fi;
