source:
  name: GitHub
project:
  name: alibaba/druid
  url:  https://github.com/alibaba/druid
report: https://github.com/alibaba/druid/issues/222
description: >
  A call to Cipher.init() may throw an InvalidKeyException.
crash:    yes
internal: no
api:
  - javax.crypto.Cipher
characteristics:
  - missing catch
pattern:
  - single object
challenges:
  - multiple usages
fix:
  commit: https://github.com/alibaba/druid/commit/e10f2849d046265bf17360ab4aa9eb60fd3ab8de
  repository:
    url: https://github.com/alibaba/druid.git
    type: git
  revision: e10f2849d046265bf17360ab4aa9eb60fd3ab8de
  files:
    - name: src/main/java/com/alibaba/druid/filter/config/ConfigTools.java
build:
  src: src/main/java
  commands:
    - "sed -i 's#code.alibabatech.com/mvn/releases/#vm16.rbg.informatik.tu-darmstadt.de/nexus/repository/mubench-m2/#g' pom.xml"
    - sed -i '314i<dependency><groupId>avalon-framework</groupId><artifactId>avalon-framework-api</artifactId><version>4.1.5</version></dependency>' pom.xml
    - sed -i 's/10.2.0.2/10.2.0.2.0/g' pom.xml
    - "sed -i 's#<groupId>proxool</groupId>#<groupId>com.cloudhopper.proxool</groupId>#g' pom.xml"
    - sed -i '485i<exclusions><exclusion><groupId>avalon-framework</groupId><artifactId>avalon-framework-api</artifactId></exclusion></exclusions>' pom.xml
    - mvn compile
  classes: target/classes/
